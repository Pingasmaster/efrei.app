# Ports (host-facing)
# Public port for the static frontend (Nginx in the frontend container).
FRONTEND_PORT=8080
# Public port for the gateway service (auth + proxy).
GATEWAY_PORT=3000
# Public port for the business API service.
API_PORT=4000

# Gateway / API
# Secret used to sign JWT tokens (change in production).
JWT_SECRET=change-me
# Optional JWT claims to pin issuer/audience (recommended).
JWT_ISSUER=efrei.app
JWT_AUDIENCE=efrei.app
# Base URL of the business API as seen from inside Docker.
BUSINESS_API_URL=http://api:4000
# Trust proxy settings for Express (optional; default trusts private networks).
# TRUST_PROXY=loopback, linklocal, uniquelocal
# Optional CORS allowlist (comma-separated origins). Leave empty to deny cross-origin.
CORS_ORIGINS=http://localhost:8080

# Database
# MySQL host as reachable from containers.
DB_HOST=mysql
# MySQL port inside the Docker network.
DB_PORT=3306
# Default database name to create/use.
DB_NAME=efrei
# Application database user (change in production).
DB_USER=change-me-user
# Application database password (change in production).
DB_PASSWORD=change-me-password
# MySQL root password (change in production).
MYSQL_ROOT_PASSWORD=change-me-root

# Cache
# Redis host as reachable from containers.
REDIS_HOST=redis
# Redis port inside the Docker network.
REDIS_PORT=6379

# Odds stream
# Redis pub/sub channel for odds updates.
ODDS_CHANNEL=odds_updates
# Publish interval in milliseconds.
ODDS_INTERVAL_MS=2500

# Payout queue
# Redis list name for payout jobs.
PAYOUT_QUEUE=payout_jobs
# Poll interval for payout fallback (ms).
PAYOUT_POLL_INTERVAL_MS=5000
# Max attempts for payout jobs before DLQ.
PAYOUT_MAX_ATTEMPTS=5
# Base backoff for payout retries (ms).
PAYOUT_BACKOFF_BASE_MS=10000
# Max backoff for payout retries (ms).
PAYOUT_BACKOFF_MAX_MS=300000
# Redis sorted set for delayed payout retries.
PAYOUT_DELAYED_SET=payout_jobs_delayed
# Redis list name for dead-letter payout jobs.
PAYOUT_DEAD_LETTER_QUEUE=payout_jobs_dead

# Auth refresh tokens (optional)
# Number of days before a refresh token expires.
REFRESH_TOKEN_DAYS=1

# Observability (optional)
# JSON log level (debug, info, warn, error).
LOG_LEVEL=info
# Optional shared bearer token for Prometheus scrapes (falls back to JWT_SECRET if unset in services).
# METRICS_BEARER_TOKEN=change-me-metrics
# Worker metrics port (Prometheus scrape target).
METRICS_PORT=9102

# Admin bootstrap (optional)
# Promote an existing user to admin on API startup.
ADMIN_BOOTSTRAP_EMAIL=admin@efrei.fr
# ADMIN_BOOTSTRAP_USER_ID=1
